!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("jsonpath",[],t):"object"==typeof exports?exports.jsonpath=t():e.jsonpath=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,n,o){return r(this,e),this.resultType=o&&o.resultType||"VALUE",this.result=[],this.obj=t,n&&t&&("VALUE"===this.resultType||"PATH"===this.resultType)?(this.trace(this.normalize(n).replace(/^\$;?/,""),t,"$"),this.result.length?this.result:!1):!1}return o(e,[{key:"normalize",value:function(e){var t=[];return e.replace(/[\['](\??\(.*?\))[\]']|\['(.*?)'\]/g,function(e,r,n){return"[#"+(t.push(r||n)-1)+"']"}).replace(/'?\.'?|\['?/g,";").replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").replace(/#([0-9]+)/g,function(e,r){return t[r]})}},{key:"asPath",value:function(e){for(var t=e.split(";"),r="$",n=1,o=t.length;o>n;n++)r+=/^[0-9*]+$/.test(t[n])?"["+t[n]+"]":"['"+t[n]+"']";return r}},{key:"store",value:function(e,t){return e&&(this.result[this.result.length]="PATH"===this.resultType?this.asPath(e):t),!!e}},{key:"trace",value:function(e,t,r){var o=this;""!==e?!function(){var a=e.split(";"),i=a.shift();if(a=a.join(";"),t&&t.hasOwnProperty(i))o.trace(a,t[i],r+";"+i);else if("*"===i)o.walk(i,a,t,r,function(e,t,r,n,a){return o.trace(e+";"+r,n,a)});else if(".."===i)o.trace(a,t,r),o.walk(i,a,t,r,function(e,t,r,a,i){return"object"===n(a[e])&&o.trace("..;"+r,a[e],i+";"+e)});else if(/^\(.*?\)$/.test(i))o.trace(o.processEval(i,t)+";"+a,t,r);else if(/^\?\(.*?\)$/.test(i))o.walk(i,a,t,r,function(e,t,r,n,i){o.processEval(t.replace(/^\?\((.*?)\)$/,"$1"),n instanceof Array?n[e]:n)&&o.trace(e+";"+a,n,i)});else if(/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(i))o.slice(i,a,t,r);else if(/,/.test(i))for(var s=i.split(/'?,'?/),l=s.length,u=0;l>u;u++)o.trace(s[u]+";"+a,t,r)}():this.store(r,t)}},{key:"walk",value:function(e,t,r,o,a){if(r instanceof Array)for(var i=r.length,s=0;i>s;s++)s in r&&a(s,e,t,r,o);else if("object"===("undefined"==typeof r?"undefined":n(r)))for(var l=0;l<r.length;l++)r.hasOwnProperty(r[l])&&a(r[l],e,t,r,o)}},{key:"slice",value:function(e,t,r,n){var o=this;r instanceof Array&&!function(){var a=r.length,i=0,s=a,l=1;e.replace(/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,function(e,t,r,n){i=parseInt(t||i,10),s=parseInt(r||s,10),l=parseInt(n||l,10)}),i=0>i?Math.max(0,i+a):Math.min(a,i),s=0>s?Math.max(0,s+a):Math.min(a,s);for(var u=i;s>u;u+=l)o.trace(u+";"+t,r,n)}()}},{key:"eval",value:function(){}},{key:"processEval",value:function(e,t){try{return this.obj&&t&&this.eval(e.replace(/(^|[^\\])@/g,"$1_v").replace(/\\@/g,"@"))}catch(r){var n=e.replace(/(^|[^\\])@/g,"$1_v").replace(/\\@/g,"@");throw new SyntaxError("jsonPath: "+r.message+": "+n)}}}]),e}();t["default"]=a,e.exports=t["default"]}])});
//# sourceMappingURL=jsonpath.min.js.map